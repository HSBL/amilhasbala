{"remainingRequest":"/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/babel-loader/lib/index.js!/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/vue-videobg/src/VideoBackground.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/vue-videobg/src/VideoBackground.vue","mtime":1494007440000},{"path":"/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/amilhasbala/Documents/GitHub/amilhasbala/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    sources: {\n      type: Array,\n      required: true\n    },\n    img: {\n      type: String\n    }\n  },\n  data: function data() {\n    return {\n      videoRatio: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.setImageUrl();\n    this.setContainerHeight();\n\n    if (this.videoCanPlay()) {\n      this.$refs.video.oncanplay = function () {\n        if (!_this.$refs.video) return;\n        _this.videoRatio = _this.$refs.video.videoWidth / _this.$refs.video.videoHeight;\n\n        _this.setVideoSize();\n\n        _this.$refs.video.style.visibility = 'visible';\n      };\n    }\n\n    window.addEventListener('resize', this.resize);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('resize', this.resize);\n  },\n  methods: {\n    resize: function resize() {\n      this.setContainerHeight();\n\n      if (this.videoCanPlay()) {\n        this.setVideoSize();\n      }\n    },\n    videoCanPlay: function videoCanPlay() {\n      return !!this.$refs.video.canPlayType;\n    },\n    setImageUrl: function setImageUrl() {\n      if (this.img) {\n        this.$el.style.backgroundImage = \"url(\".concat(this.img, \")\");\n      }\n    },\n    setContainerHeight: function setContainerHeight() {\n      this.$el.style.height = \"\".concat(window.innerHeight, \"px\");\n    },\n    setVideoSize: function setVideoSize() {\n      var width,\n          height,\n          containerRatio = this.$el.offsetWidth / this.$el.offsetHeight;\n\n      if (containerRatio > this.videoRatio) {\n        width = this.$el.offsetWidth;\n      } else {\n        height = this.$el.offsetHeight;\n      }\n\n      this.$refs.video.style.width = width ? \"\".concat(width, \"px\") : 'auto';\n      this.$refs.video.style.height = height ? \"\".concat(height, \"px\") : 'auto';\n    },\n    getMediaType: function getMediaType(src) {\n      return 'video/' + src.split('.').pop();\n    }\n  }\n};",{"version":3,"sources":["VideoBackground.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AALA,GADA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GAfA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA,SAAA,WAAA;AACA,SAAA,kBAAA;;AAEA,QAAA,KAAA,YAAA,EAAA,EAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,SAAA,GAAA,YAAA;AACA,YAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,EAAA;AAEA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,WAAA;;AACA,QAAA,KAAA,CAAA,YAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,SAAA;AACA,OANA;AAOA;;AAEA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA,GAhCA;AAkCA,EAAA,aAlCA,2BAkCA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA,GApCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,kBAAA;;AAEA,UAAA,KAAA,YAAA,EAAA,EAAA;AACA,aAAA,YAAA;AACA;AACA,KAPA;AASA,IAAA,YATA,0BASA;AACA,aAAA,CAAA,CAAA,KAAA,KAAA,CAAA,KAAA,CAAA,WAAA;AACA,KAXA;AAaA,IAAA,WAbA,yBAaA;AACA,UAAA,KAAA,GAAA,EAAA;AACA,aAAA,GAAA,CAAA,KAAA,CAAA,eAAA,iBAAA,KAAA,GAAA;AACA;AACA,KAjBA;AAmBA,IAAA,kBAnBA,gCAmBA;AACA,WAAA,GAAA,CAAA,KAAA,CAAA,MAAA,aAAA,MAAA,CAAA,WAAA;AACA,KArBA;AAuBA,IAAA,YAvBA,0BAuBA;AACA,UAAA,KAAA;AAAA,UAAA,MAAA;AAAA,UAAA,cAAA,GAAA,KAAA,GAAA,CAAA,WAAA,GAAA,KAAA,GAAA,CAAA,YAAA;;AAEA,UAAA,cAAA,GAAA,KAAA,UAAA,EAAA;AACA,QAAA,KAAA,GAAA,KAAA,GAAA,CAAA,WAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,GAAA,KAAA,GAAA,CAAA,YAAA;AACA;;AAEA,WAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,GAAA,KAAA,aAAA,KAAA,UAAA,MAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,GAAA,MAAA,aAAA,MAAA,UAAA,MAAA;AACA,KAlCA;AAoCA,IAAA,YApCA,wBAoCA,GApCA,EAoCA;AACA,aAAA,WAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,GAAA,EAAA;AACA;AAtCA;AAtCA,CAAA","sourcesContent":["<template>\n  <section class=\"VideoBg\">\n    <video autoplay loop muted ref=\"video\">\n      <source v-for=\"source in sources\" :src=\"source\" :type=\"getMediaType(source)\">\n    </video>\n    <div class=\"VideoBg__content\">\n      <slot></slot>\n    </div>\n  </section>\n</template>\n\n\n<script>\n  export default {\n    props: {\n      sources: {\n        type: Array,\n        required: true\n      },\n      img: {\n        type: String\n      }\n    },\n\n    data () {\n      return {\n        videoRatio: null\n      }\n    },\n\n    mounted () {\n      this.setImageUrl()\n      this.setContainerHeight()\n\n      if (this.videoCanPlay()) {\n        this.$refs.video.oncanplay = () => {\n          if (!this.$refs.video) return\n\n          this.videoRatio = this.$refs.video.videoWidth / this.$refs.video.videoHeight\n          this.setVideoSize()\n          this.$refs.video.style.visibility = 'visible'\n        }\n      }\n\n      window.addEventListener('resize', this.resize)\n    },\n\n    beforeDestroy () {\n      window.removeEventListener('resize', this.resize)\n    },\n\n    methods: {\n      resize () {\n        this.setContainerHeight()\n\n        if (this.videoCanPlay()) {\n          this.setVideoSize()\n        }\n      },\n\n      videoCanPlay () {\n        return !!this.$refs.video.canPlayType\n      },\n\n      setImageUrl () {\n        if (this.img) {\n          this.$el.style.backgroundImage = `url(${this.img})`\n        }\n      },\n\n      setContainerHeight () {\n        this.$el.style.height = `${window.innerHeight}px`\n      },\n\n      setVideoSize () {\n        var width, height, containerRatio = this.$el.offsetWidth / this.$el.offsetHeight\n\n        if (containerRatio > this.videoRatio) {\n          width = this.$el.offsetWidth\n        } else {\n          height = this.$el.offsetHeight\n        }\n\n        this.$refs.video.style.width = width ? `${width}px` : 'auto'\n        this.$refs.video.style.height = height ? `${height}px` : 'auto'\n      },\n\n      getMediaType (src) {\n        return 'video/' + src.split('.').pop()\n      }\n    }\n  }\n</script>\n\n\n<style>\n  .VideoBg {\n    position: relative;\n    background-size: cover;\n    background-position: center;\n    overflow: hidden;\n  }\n\n  .VideoBg video {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    visibility: hidden;\n    transform: translate(-50%, -50%);\n  }\n\n  .VideoBg__content {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n</style>\n"],"sourceRoot":"node_modules/vue-videobg/src"}]}